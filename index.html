<!DOCTYPE html>
<html lang="ru">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>–ù–æ–≤–æ—Å—Ç–∏ –¥–ª—è –°–≤–æ–∏—Ö ‚Äî –Ω–µ–∑–∞–≤–∏—Å–∏–º—ã–µ –Ω–æ–≤–æ—Å—Ç–∏ –†–æ—Å—Å–∏–∏ –∏ –º–∏—Ä–∞</title>
  <link rel="stylesheet" href="style.css" />
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />

  <!-- SEO -->
  <meta name="description" content="–ê–∫—Ç—É–∞–ª—å–Ω—ã–µ –Ω–æ–≤–æ—Å—Ç–∏ –†–æ—Å—Å–∏–∏ –∏ –º–∏—Ä–∞ –±–µ–∑ —Ñ–µ–π–∫–æ–≤ –∏ –ª–∏—à–Ω–µ–≥–æ —à—É–º–∞. –ì–ª–∞–≤–Ω—ã–µ —Å–æ–±—ã—Ç–∏—è, –∞–Ω–∞–ª–∏—Ç–∏–∫–∞, –æ–±–∑–æ—Ä—ã –∏ —Ñ–∞–∫—Ç—ã ‚Äî –∫–æ—Ä–æ—Ç–∫–æ –∏ –ø–æ –¥–µ–ª—É.">
  <meta name="keywords" content="–Ω–æ–≤–æ—Å—Ç–∏, Telegram, SVOih, —Å–æ–±—ã—Ç–∏—è, –≤–∏–¥–µ–æ, —Ñ–æ—Ç–æ, –†–æ—Å—Å–∏—è">
  <meta name="author" content="SVOih News Team">
  <meta name="yandex-verification" content="3a33e674e5836564">
  <meta property="og:title" content="–ù–æ–≤–æ—Å—Ç–∏ –¥–ª—è –°–≤–æ–∏—Ö" />
  <meta property="og:description" content="–ß–µ—Å—Ç–Ω—ã–µ –Ω–æ–≤–æ—Å—Ç–∏ –†–æ—Å—Å–∏–∏ –∏ –º–∏—Ä–∞" />
  <meta property="og:url" content="https://newsforsvoi.vercel.app/" />
  <meta property="og:type" content="website" />

  <!-- PWA -->
  <link rel="manifest" href="/manifest.json">
  <meta name="theme-color" content="#ff0000">
  <link rel="prefetch" href="/archive.html">
  <link rel="prefetch" href="/news.html">

  <style>
    .news-item {
      transition: transform 0.3s ease, box-shadow 0.3s ease;
      cursor: zoom-in;
    }
    .news-item.enlarged-1 { transform: scale(1.05); cursor: zoom-out; z-index: 5; position: relative; }
    .news-item.enlarged-2 { transform: scale(1.10); cursor: zoom-out; z-index: 10; position: relative; }
    .news-item img, .news-item video { transition: transform 0.3s ease; }
    .news-item.enlarged-1 img, .news-item.enlarged-2 img,
    .news-item.enlarged-1 video, .news-item.enlarged-2 video { transform: scale(1.10); }
  </style>
</head>
<body>
  <header>
    <div class="header-content">
      <img src="/rf-flag.svg" alt="–§–ª–∞–≥ –†–æ—Å—Å–∏–∏" class="flag-icon" />
      <div class="text-block">
        <h1>–ù–æ–≤–æ—Å—Ç–∏ –¥–ª—è –°–≤–æ–∏—Ö</h1>
        <h2>–ß–µ—Å—Ç–Ω—ã–µ –Ω–æ–≤–æ—Å—Ç–∏ –†–æ—Å—Å–∏–∏ –∏ –º–∏—Ä–∞</h2>
        <p class="tagline">
          –ê–∫—Ç—É–∞–ª—å–Ω—ã–µ –Ω–æ–≤–æ—Å—Ç–∏ –†–æ—Å—Å–∏–∏ –∏ –º–∏—Ä–∞ –±–µ–∑ —Ñ–µ–π–∫–æ–≤ –∏ –ª–∏—à–Ω–µ–≥–æ —à—É–º–∞.<br>
          –ì–ª–∞–≤–Ω—ã–µ —Å–æ–±—ã—Ç–∏—è, –∞–Ω–∞–ª–∏—Ç–∏–∫–∞, –æ–±–∑–æ—Ä—ã –∏ —Ñ–∞–∫—Ç—ã ‚Äî –∫–æ—Ä–æ—Ç–∫–æ –∏ –ø–æ –¥–µ–ª—É.
        </p>
      </div>
    </div>

    <div class="search-wrapper">
      <input type="search" id="search-box" placeholder="üîç –ü–æ–∏—Å–∫ –ø–æ –Ω–æ–≤–æ—Å—Ç—è–º‚Ä¶" />
    </div>

    <div class="category-tabs">
      <button class="tab active" data-cat="–í—Å–µ">–í—Å–µ</button>
      <button class="tab" data-cat="–†–æ—Å—Å–∏—è">–†–æ—Å—Å–∏—è</button>
      <button class="tab" data-cat="–ö–æ—Å–º–æ—Å">–ö–æ—Å–º–æ—Å</button>
      <button class="tab" data-cat="–ú–∏—Ä">–ú–∏—Ä</button>
    </div>
  </header>

  <main>
    <div class="buttons">
      <a href="https://t.me/newsSVOih" class="button primary" target="_blank">üì± Telegram</a>
      <a href="archive.html" class="button secondary">üìÇ –ê—Ä—Ö–∏–≤</a>
      <a href="rss.xml" class="button" target="_blank">üì∞ RSS</a>
    </div>

    <section id="news-feed">
      <h3>–ü–æ—Å–ª–µ–¥–Ω–∏–µ –Ω–æ–≤–æ—Å—Ç–∏</h3>
      <div id="news-container" class="news-grid">
        <div class="loading">‚è≥ –ó–∞–≥—Ä—É–∂–∞–µ–º –Ω–æ–≤–æ—Å—Ç–∏...</div>
      </div>
      <button id="load-more" class="button">üìÑ –ü–æ–∫–∞–∑–∞—Ç—å –µ—â—ë</button>
    </section>
  </main>

  <footer>
    ¬© 2025 –ù–æ–≤–æ—Å—Ç–∏ –¥–ª—è –°–≤–æ–∏—Ö | <a href="https://t.me/newsSVOih">Telegram</a>
  </footer>

  <script>
    let allItems = [];
    let visibleCount = 9;
    let currentCategory = '–í—Å–µ';

    async function loadNews() {
      try {
        const response = await fetch('/news.html');
        const html = await response.text();
        
        const temp = document.createElement('div');
        temp.innerHTML = html;
        allItems = Array.from(temp.querySelectorAll('.news-item'));
        
        renderItems();
        setupSearch();
        setupCategories();
        setupEnlargement();
        
      } catch (error) {
        document.getElementById('news-container').innerHTML = 
          '<p class="error">‚ùå –ù–µ —É–¥–∞–ª–æ—Å—å –∑–∞–≥—Ä—É–∑–∏—Ç—å –Ω–æ–≤–æ—Å—Ç–∏</p>';
      }
    }

    function renderItems() {
      const container = document.getElementById('news-container');
      const filteredItems = currentCategory === '–í—Å–µ' ? allItems : 
        allItems.filter(item => item.querySelector('h2')?.textContent === currentCategory);
      
      container.innerHTML = filteredItems.slice(0, visibleCount).map(item => {
        const clone = item.cloneNode(true);
        const category = item.querySelector('h2')?.textContent || '–ú–∏—Ä';
        clone.insertAdjacentHTML('afterbegin', `<span class="category-badge">${category}</span>`);
        return clone;
      });
      
      document.getElementById('load-more').style.display = 
        visibleCount < filteredItems.length ? 'block' : 'none';
    }

    document.getElementById('load-more').addEventListener('click', () => {
      visibleCount += 9;
      renderItems();
    });

    function setupCategories() {
      document.querySelectorAll('.tab').forEach(tab => {
        tab.addEventListener('click', (e) => {
          document.querySelectorAll('.tab').forEach(t => t.classList.remove('active'));
          e.target.classList.add('active');
          currentCategory = e.target.dataset.cat;
          visibleCount = 9;
          renderItems();
        });
      });
    }

    function setupSearch() {
      document.getElementById('search-box').addEventListener('input', (e) => {
        const query = e.target.value.toLowerCase();
        const filtered = allItems.filter(item => 
          item.textContent.toLowerCase().includes(query)
        );
        currentCategory = '–í—Å–µ';
        document.querySelector('.tab[data-cat="–í—Å–µ"]').classList.add('active');
        document.querySelectorAll('.tab').forEach(t => t.classList.remove('active'));
        document.querySelector('.tab[data-cat="–í—Å–µ"]').classList.add('active');
        
        allItems = filtered;
        visibleCount = 9;
        renderItems();
      });
    }

    function setupEnlargement() {
      document.addEventListener('click', (e) => {
        if (e.target.closest('.news-item') && !e.target.closest('a')) {
          const item = e.target.closest('.news-item');
          const classes = item.className;
          item.className = classes.includes('enlarged-2') ? classes.replace('enlarged-2', '') : 
                          classes.includes('enlarged-1') ? classes.replace('enlarged-1', '') + ' enlarged-2' : 
                          classes + ' enlarged-1';
        }
      });
    }

    loadNews();
  </script>

  <!-- Yandex.Metrika -->
  <script type="text/javascript">
    (function(m,e,t,r,i,k,a){m[i]=m[i]||function(){(m[i].a=m[i].a||[]).push(arguments)};
    m[i].l=1*new Date();k=e.createElement(t),a=e.getElementsByTagName(t)[0],k.async=1,k.src=r,a.parentNode.insertBefore(k,a)})
    (window, document, 'script', 'https://mc.yandex.ru/metrika/tag.js', 'ym');
    ym(104694411, 'init', {ssr:true, webvisor:true, clickmap:true, accurateTrackBounce:true});
  </script>
  <noscript><div><img src="https://mc.yandex.ru/watch/104694411" style="position:absolute; left:-9999px;" alt="" /></div></noscript>
</body>
</html>