- name: Commit updated news.html and sitemap.xml
  env:
    GH_PAT: ${{ secrets.GH_PAT }}
  run: |
    git config user.name "github-actions"
    git config user.email "github-actions@github.com"
    git remote set-url origin https://x-access-token:${GH_PAT}@github.com/${{ github.repository }}

    git add public/news.html public/sitemap.xml
    git commit -m "Update news.html and sitemap.xml from bot" || echo "No changes"

    git stash
    git pull --rebase
    git stash pop || echo "⚠️ Нет изменений для восстановления"

    git push || echo "❌ Push не прошёл"